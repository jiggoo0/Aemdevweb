@import "tailwindcss";
@plugin "tailwindcss-animate";

/**
 * [CORE INFRASTRUCTURE]: AEM-ULTIMATE-ENGINE v18.0.7 (STABILIZED_HYBRID)
 * [STRATEGY]: OKLCH Dynamic Identity | Zero-CLS Layering | Theme-Aware Contrast
 * [MAINTAINER]: AEMZA MACKS (Lead Architect)
 */

@theme {
  /* --- 01. TYPOGRAPHY --- */
  --font-thai: var(--font-thai), ui-sans-serif, system-ui;
  --font-sans: var(--font-sans), ui-sans-serif, system-ui;
  --font-mono: var(--font-mono), ui-monospace, SFMono-Regular;

  /* --- 02. DYNAMIC COLOR ENGINE --- 
     ใช้ OKLCH เพื่อรักษาความสดของสี (Chroma) แม้ความสว่าง (Lightness) จะเปลี่ยน
  */
  --color-brand-primary: oklch(var(--brand-primary-raw));
  --color-brand-secondary: oklch(var(--brand-secondary-raw));
  --color-brand-accent: oklch(var(--brand-accent-raw));

  --color-surface-main: var(--surface-main);
  --color-surface-offset: var(--surface-offset);
  --color-surface-card: var(--surface-card);

  --color-text-primary: var(--text-primary);
  --color-text-secondary: var(--text-secondary);
  --color-text-muted: var(--text-muted);

  --color-border: var(--border);

  /* --- 03. SPECIAL EFFECTS --- */
  --shadow-glow: 0 0 50px -12px oklch(var(--brand-primary-raw) / 0.4);
  --shadow-pro: 0 4px 12px -2px rgba(0, 0, 0, 0.05);
}

@layer base {
  :root {
    /* [LIGHT_MODE]: Zinc 50 Base (Slightly warmer than White) */
    --brand-primary-raw: 65% 0.22 165; /* Emerald Dynamic Base */
    --brand-secondary-raw: 45% 0.20 165;
    --brand-accent-raw: 75% 0.15 165;

    --surface-main: #fafafa;   /* Zinc 50 */
    --surface-offset: #f4f4f5; /* Zinc 100 */
    --surface-card: #ffffff;

    --text-primary: #09090b;   /* Zinc 950 */
    --text-secondary: #3f3f46; /* Zinc 700 */
    --text-muted: #71717a;    /* Zinc 500 */

    --border: #e4e4e7;         /* Zinc 200 */
    --radius: 1rem;
  }

  .dark {
    /* [DARK_MODE]: Zinc 950 Base (Deep Graphite) */
    /* ปรับ Chroma ของสีหลักลงเล็กน้อยในโหมดมืด เพื่อลด Eye Strain */
    --brand-primary-raw: 70% 0.18 165; 
    --brand-secondary-raw: 60% 0.15 165;
    --brand-accent-raw: 80% 0.12 165;

    --surface-main: #09090b;   /* Zinc 950 */
    --surface-offset: #18181b; /* Zinc 900 */
    --surface-card: #111113;   /* Custom Deep Slate */

    --text-primary: #fafafa;   /* Zinc 50 */
    --text-secondary: #a1a1aa; /* Zinc 400 */
    --text-muted: #52525b;    /* Zinc 600 */

    --border: rgba(255, 255, 255, 0.06);
    color-scheme: dark;
  }

  html {
    @apply antialiased;
    background-color: var(--surface-main);
    color: var(--text-primary);
    scroll-behavior: smooth;
    -webkit-font-smoothing: antialiased;
    text-rendering: optimizeLegibility;
  }

  body {
    font-family: var(--font-thai);
    min-height: 100dvh;
    /* [TEXTURE]: เพิ่ม Grain อ่อนๆ เพื่อความพรีเมียมในโหมดมืด */
    background-image: radial-gradient(
      circle at 2px 2px, 
      oklch(var(--brand-primary-raw) / 0.015) 1px, 
      transparent 0
    );
    background-size: 40px 40px;
  }
}

@layer utilities {
  /* [CONVERSION_BOOST]: คลาสสำหรับเน้นจุดปิดการขาย */
  .shadow-glow {
    box-shadow: var(--shadow-glow);
  }

  .glass-card {
    @apply relative overflow-hidden border;
    background-color: color-mix(in oklch, var(--surface-card), transparent 20%);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border-color: var(--border);
  }

  /* [SEO_CRITICAL]: บังคับให้ LCP Element เรนเดอร์ทันที */
  .lcp-priority {
    content-visibility: auto;
    contain-intrinsic-size: 1px 500px;
  }

  .gpu-render {
    transform: translateZ(0);
    backface-visibility: hidden;
    perspective: 1000px;
  }
}
